<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "${ent.filename}">
%BOOK_ENTITIES;
]>
<chapter id="managing">

	<title>Managing</title>
<para>Now that you have set up the Gateway you must configure the SS7 Stack and the Gateway. &THIS.PLATFORM; &THIS.APPLICATION; comes with a convenient user-friendly Graphical User Interface (GUI) and a Command Line Interface (CLI) that will allow you to configure, monitor and manage the Gateway. While the CLI tool allows complete configuration and control of the Gateway, the GUI-based management enhances the usability of the Gateway and gives you the ability to configure and manage the SMSC Gateway dynamically. This chapter will explain how to manage the Gateway effectively using both the GUI and the CLI.

<!--
6:02 PM so we can have "default" profile as clean
  and "simulator" profile configured to connect to simulator


 -->

</para>
	<!--<section id="configuring_ss7">-->
	<formalpara>
		<title>Configuring the SS7 Stack</title>
		<para>You must configure the SS7 stack prior to configuring SMSC. For details on configuring the SS7 Stack please refer to the TelScale SS7 Stack User Guide. The TelScale SS7 Stack User Guide lists all available Shell commands and GUI operations to configure SS7. In addition, help files are also available for every Shell command providing all details relevant to the command. </para> 
	</formalpara>
	<!-- </section>
	<section id="setting_smsc_parameters">-->
	<formalpara>
		<title>Configuring the Gateway</title>
		<para>
</para>
	</formalpara>
	<section id="SMSC_Gateway_Server_Settings">
	<title>SMSC Gateway Server Settings</title>
		<section id="SMSC_Gateway_Server_Properties">
		<title>SMSC Server Properties</title>
			<section id="defaultvalidityperiodhours">
			<title>Default Validity Period (in hours)</title>
			<section id="defaultvalidityperiodhours_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Default Validity Period (in hours)' by issuing the command <command>smsc set defaultvalidityperiodhours</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get defaultvalidityperiodhours</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set defaultvalidityperiodhours

SYNOPSIS
	smsc set defaultvalidityperiodhours <default-validity-period-hours>

DESCRIPTION
	This command is used to set a value for default validity period (in hours) for 
	incoming SMSC messages that do not have their own validity period value. Validity 
	period is the time duration for which the SMSC Gateway will attempt to
	send the SMS. If the time period expires before the message can be delivered, 
	the SMSC Gateway will drop it.

EXAMPLES
	smsc set defaultvalidityperiodhours 3
]]></screen>
			</section>
			<section id="defaultvalidityperiodhours_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Default Validity Period using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the default validity period (in hours) by entering the value in the text field 'Default validity period hours (in hours)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="maxvalidityperiodhours">
			<title>Maximum Validity Period (in hours)</title>
			<section id="maxvalidityperiodhours_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Max Validity Period (in hours)' by issuing the command <command>smsc set maxvalidityperiodhours</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get maxvalidityperiodhours</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set maxvalidityperiodhours

SYNOPSIS
	smsc set maxvalidityperiodhours <max-validity-period-hours>

DESCRIPTION
	This command is used to set a value for the maximum validity period (in hours).
	All incoming messages with a validity period set greater than the value specified
	by this parameter will either be rejected (if they are ESME originated messages)
	or the value of their validity period will be set to this value (for MO originated
	messages).

EXAMPLES
	smsc set maxvalidityperiodhours 6
]]></screen>
			</section>
			<section id="maxvalidityperiodhours_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Maximum Validity Period using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the maximum validity period (in hours) by entering the value in the text field 'Maximum validity period (in hours)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="defaultton">
			<title>Default Type of Number (TON)</title>
			<section id="defaultton_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Default type of number (TON)' by issuing the command <command>smsc set defaultton</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get defaultton</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set defaultton

SYNOPSIS
	smsc set defaultton <default-ton>

DESCRIPTION
	This command is used to set a value for default TON (Type Of Number). If an
	incoming message does not have a value defined for TON, i.e. if TON is set as
	'unknown', then the value specified for defaultton will be used as TON for that 
	message.

EXAMPLES
	smsc set defaultton 1
]]></screen>
			</section>
			<section id="defaultton_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Default type of number (TON) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the Default type of number (TON) by entering the value in the text field 'Default type of number (TON)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="defaultnpi">
			<title>Default numbering plan indicator (NPI)</title>
			<section id="defaultnpi_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Default numbering plan indicator (NPI)' value by issuing the command <command>smsc set defaultnpi</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get defaultnpi</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set defaultnpi

SYNOPSIS
	smsc set defaultnpi <default-npi>

DESCRIPTION
	This command is used to set a value for default NPI (Number Plan Indicator). If an
	incoming message does not have a value defined for NPI, i.e. if NPI is set as
	'unknown', then the value specified for defaultnpi will be used as NPI for that 
	message.

EXAMPLES
	smsc set defaultnpi 1
]]></screen>
			</section>
			<section id="defaultnpi_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Default numbering plan indicator (NPI) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the Default numbering plan indicator (NPI) by entering the value in the text field 'Default numbering plan indicator (NPI)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="esmedefaultcluster">
			<title>Cluster Name</title>
			<section id="esmedefaultcluster_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Cluster Name' value by issuing the command <command>smsc set esmedefaultcluster</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get esmedefaultcluster</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set esmedefaultcluster

SYNOPSIS
	smsc set esmedefaultcluster <esme-default-cluster>

DESCRIPTION
	This command is used to set a value for ESME default cluster. If the 
	destination-address does not match to any ESME (any Cluster Name) the message will
	be routed to the cluster with the name specified here for esme-default-cluster.
]]></screen>
<para>You can remove an ESME default cluster by issuing a command in the below format:</para>
<screen><![CDATA[
Name
	smsc remove esmedefaultcluster

SYNOPSIS
	smsc remove esmedefaultcluster <esme-default-cluster>

DESCRIPTION
	This command is used to remove the value configured for ESME default cluster. If 
	this value is removed, all unrouted messages will be routed into the GSM network.
]]></screen>
			</section>
			<section id="esmedefaultcluster_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Cluster Name using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the Cluster Name by entering the value in the text field 'Cluster Name'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="SMPP_Encoding_for_UCS2">
			<title>SMPP Encoding for UCS2</title>
			<section id="SMPP_Encoding_for_UCS2_CLI">
			<title>Using CLI</title>
<para>
You can set the 'SMPP Encoding for UCS2' value by issuing the command <command>smsc set smppencodingforucs2</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get smppencodingforucs2</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set smppencodingforucs2

SYNOPSIS
	smsc set smppencodingforucs2 <UTF8|UNICODE>

DESCRIPTION
	This command is used to set the SMPP Encoding Scheme for UCS2. SMPP side messages 
	with data coding == 8 [UCS2] accept two different encoding schemes [UTF8 and 
	UNICODE] for both sending and receiving messages. SMSC can be configured to 
	accept for one of them (the one that ESME supports). If this is not set, 
	then the default encoding scheme is UTF8.

EXAMPLES
	smsc set smppencodingforucs2 utf8 
	or
	smsc set smppencodingforucs2 unicode
]]></screen>
			</section>
			<section id="SMPP_Encoding_for_UCS2_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set SMPP Encoding for UCS2 using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the encoding scheme by choosing from the two values (UTF8 or UNICODE) in the list for 'SMPP Encoding for UCS2'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>


			<section id="subscriberbusyduedelay">
			<title>Subscriber busy due delay (in sec)</title>
			<section id="subscriberbusyduedelay_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Subscriber busy due delay (in sec)' value by issuing the command <command>smsc set subscriberbusyduedelay</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get subscriberbusyduedelay</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set subscriberbusyduedelay

SYNOPSIS
	smsc set subscriberbusyduedelay <subscriber-busy-due-delay>

DESCRIPTION
	This command is used to set a value for subscriber-busy-due-delay (in seconds).
	This parameter specifies the delay time period in seconds when there has
	been a delivery failure with the cause 'subscriber busy'.

EXAMPLES
	smsc set subscriberbusyduedelay 2
]]></screen>
			</section>
			<section id="subscriberbusyduedelay_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Subscriber busy due delay (in sec) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the Subscriber busy due delay by entering the value in the text field 'Subscriber busy due delay (in sec)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="firstduedelay">
			<title>First due delay (in sec)</title>
			<section id="firstduedelay_CLI">
			<title>Using CLI</title>
<para>
You can set the 'First due delay (in sec)' value by issuing the command <command>smsc set firstduedelay</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get firstduedelay</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set firstduedelay

SYNOPSIS
	smsc set firstduedelay <first-due-delay>

DESCRIPTION
	This command is used to set a value for first-due-delay (in seconds). This 
	parameter specifies the delay time period in seconds between message incoming time 
	and first delivery attempt.

EXAMPLES
	smsc set firstduedelay 60
]]></screen>
			</section>
			<section id="firstduedelay_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set First due delay (in sec) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the First due delay by entering the value in the text field 'First due delay (in sec)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="secondduedelay">
			<title>Second due delay (in sec)</title>
			<section id="secondduedelay_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Second due delay (in sec)' value by issuing the command <command>smsc set secondduedelay</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get secondduedelay</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set secondduedelay

SYNOPSIS
	smsc set secondduedelay <second-due-delay>

DESCRIPTION
	This command is used to set a value for second-due-delay (in seconds). This 
	parameter specifies the delay time period in seconds between the first and second 
	delivery attempt (i.e. if the first delivery attempt failed).

EXAMPLES
	smsc set secondduedelay 5
]]></screen>
			</section>
			<section id="secondduedelay_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Second due delay (in sec) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the Second due delay by entering the value in the text field 'Second due delay (in sec)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="maxduedelay">
			<title>Max due delay (in sec)</title>
			<section id="maxduedelay_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Max due delay (in sec)' value by issuing the command <command>smsc set maxduedelay</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get maxduedelay</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set maxduedelay

SYNOPSIS
	smsc set maxduedelay <maxduedelay>

DESCRIPTION
	This command is used to set a value for max-due-delay (in seconds). This parameter 
	specifies the maximum possible delay time period in seconds between delivery
	attempts.

EXAMPLES
	smsc set maxduedelay 3600
]]></screen>
			</section>
			<section id="maxduedelay_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Max due delay (in sec) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the Max due delay by entering the value in the text field 'Max due delay (in sec)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="duedelaymultiplicator">
			<title>Due delay multiplicator</title>
			<section id="duedelaymultiplicator_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Due delay multiplicator' value by issuing the command <command>smsc set duedelaymultiplicator</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get duedelaymultiplicator</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set duedelaymultiplicator

SYNOPSIS
	smsc set duedelaymultiplicator <due-delay-multiplicator>

DESCRIPTION
	This command is used to set a value for due-delay-multiplicator. This parameter 
	specifies the delay multiplicator value before another delivery attempt (after 
	failure) is made. 

	After a message delivery failure (if message validity period is not over and the 
	failure is temporary), a delay period is induced before the next delivery attempt.
	This delay period is calculated as follows: 

	Delay after the first delivery failure = 
				second-due-delay

	Delay after every consecutive delivery failure = 
				prev-due-delay * due-delay-multiplicator / 100 
			        where prev-due-delay is the delay at the previous step.

EXAMPLES
	smsc set duedelaymultiplicator 200

	Lets take an example where the First due delay is 60 seconds, Second due delay is
	300 seconds, and the due-delay-multiplicator is 200, the attempts will be made
	as below:

	First attempt will be after 60 seconds (1 min) 
	[delay is configured in First due delay]

	Second attempt will be after 300 seconds (5 min) 
	[delay is configured in Second due delay assuming 
	delivery failed not because of "Subscriber busy"]

	Third attempt will be after 600 sec (10 min) 
	[delay is calculated based on Due delay multiplicator]
	Delay = 300 * 200 / 100	= 600

	Fourth attempt will be after 1200 sec (20 min) 
	[delay is calculated based on Due delay multiplicator]
	Delay = 600 * 200 / 100	= 1200

	Fifth attempt will be after 2400 sec (40 min) 
	[delay is calculated based on Due delay multiplicator]
	Delay = 1200 * 200 / 100 = 2400

]]></screen>
			</section>
			<section id="duedelaymultiplicator_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Due delay multiplicator using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify the Due delay multiplicator by entering the value in the text field 'Due delay multiplicator'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="generateReceiptCdr">
			<title>Generate CDR for Receipt Messages</title>
			<section id="generateReceiptCdr_CLI">
			<title>Using CLI</title>
<para>You can set the 'generateReceiptCdr' value to true/false by issuing the command <command>smsc set generateReceiptCdr</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get generateReceiptCdr</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set generateReceiptCdr

SYNOPSIS
	smsc set generateReceiptCdr <true | false>

DESCRIPTION
	The SMSC can be configured to generate CDR for both receipt and regular messages 
	or generate CDR only for regular messages. By default the SMSC will generate CDR
	for regular messages only. However if you require the SMSC to generate CDR for
	receipt messages as well, you must set the parameter 'generateReceiptCdr' to true.
]]></screen>
			</section>
			<section id="generateReceiptCdr_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set 'generate CDR for receipt messages'  using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify if the SMSC should generate CDR for receipt messages by choosing the value true for the field 'Generate receipt CDR'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="smshomerouting">
			<title>Enable/Disable SMS Home Routing</title>
			<section id="smshomerouting_CLI">
			<title>Using CLI</title>
<para>You can set the 'smshomerouting' value to true/false by issuing the command <command>smsc set smshomerouting</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get smshomerouting</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set smshomerouting

SYNOPSIS
	smsc set smshomerouting <true | false>

DESCRIPTION
	The SMSC can be configured to support SMS Home Routing by enabling the parameter 
	'smshomerouting' using this command. If this is set to true, the SMSC will accept 
	MT messages and support Home Routing functionality.
]]></screen>
			</section>
			<section id="smshomerouting_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Enable/Disable SMS Home Routing using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Properties' tab in the GUI.
				</para></step>
				<step><para>You can specify if the SMSC should accept MT messages (i.e if you want the SMSC to support SMS Home Routing) by setting the value for the field 'Home routing' to true or false accordingly. If this is enabled (set to true), the SMSC will support Home Routing. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
		</section>
		<section id="SMSC_SS7_Settings">
		<title>SS7 Settings</title>
		<section id="set_scgt">
			<title>SMSC Global Title</title>
			<section id="set_scgt_CLI">
			<title>Using CLI</title>
<para>
You can set the 'SMSC Gobal Title' by issuing the command <command>smsc set scgt</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get scgt</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
        smsc set scgt

SYNOPSIS
        smsc set scgt <globalTitle>

DESCRIPTION
        This command is used to set a value for SMSC Global Title.
]]></screen>
			</section>
			<section id="set_scgt_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set SMSC Global Title using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'SS7 Settings' tab in the GUI.
				</para></step>
				<step><para>You can specify the SMSC Global Title by entering the value in the text field 'SMSC Gateway Global Title'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="set_scssn">
			<title>SMSC Sub System Number (SSN)</title>
			<section id="set_scssn_CLI">
			<title>Using CLI</title>
<para>
You can set the 'SMSC SSN' by issuing the command <command>smsc set scssn</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get scssn</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
        smsc set scssn

SYNOPSIS
        smsc set scssn <smscSubSystemNumber>

DESCRIPTION
        This command is used to set the value of SMSC Sub System Number (SSN). Issuing 
        this command in CLI will set the SSN value but you must ensure that the SSN number
        is properly configured in the TCAP Stack in the xml descriptor file
        "telscale-smscgateway-version/jboss-5.1.0.GA/server/default/deploy/
        telscale-smsc-server/META-INF/jboss-beans.xml".
]]></screen>
			</section>
			<section id="set_scssn_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set SMSC Sub System Number (SSN) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'SS7 Settings' tab in the GUI.
				</para></step>
				<step><para>You can specify the SMSC Sub System Number (SSN) by entering the value in the text field 'SMSC Gateway subsystem number'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
					
		<section id="set_hlrssn">
			<title>HLR Sub System Number (HLR SSN)</title>
			<section id="set_hlrssn_CLI">
			<title>Using CLI</title>
<para>
You can set the 'HLR SSN' by issuing the command <command>smsc set hlrssn</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get hlrssn</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
        smsc set hlrssn

SYNOPSIS
        smsc set hlrssn <hlrSubSystemNumber>

DESCRIPTION
        This command is used to set the value of HLR Sub System Number (SSN).
]]></screen>
			</section>
			<section id="set_hlrssn_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set HLR Sub System Number (SSN) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'SS7 Settings' tab in the GUI.
				</para></step>
				<step><para>You can specify the HLR Sub System Number (SSN) by entering the value in the text field 'HLR subsystem number'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="set_mscssn">
			<title>MSC Sub System Number (SSN)</title>
			<section id="set_mscssn_CLI">
			<title>Using CLI</title>
<para>
You can set the 'MSC SSN' by issuing the command <command>smsc set mscssn</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get mscssn</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
        smsc set mscssn

SYNOPSIS
        smsc set mscssn <mscSubSystemNumber>

DESCRIPTION
        This command is used to set the value of MSC Sub System Number (SSN).

]]></screen>
			</section>
			<section id="set_mscssn_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set MSC Sub System Number (SSN) using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'SS7 Settings' tab in the GUI.
				</para></step>
				<step><para>You can specify the MSC Sub System Number (SSN) by entering the value in the text field 'MSC subsystem number'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>			
		<section id="set_maxmapv">
			<title>MAP Application Context version</title>
			<section id="set_maxmapv_CLI">
			<title>Using CLI</title>
<para>
You can set the 'MAP Application Context version' by issuing the command <command>smsc set maxmapv</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get maxmapv</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
        smsc set maxmapv

SYNOPSIS
        smsc set maxmapv <version-number>

DESCRIPTION
        This command is used to set the value of MAP Application Context version. The
        version number set here will be used for SMS messages exchanged. Telscale SMSC
        Gateway supports version negotiation. So if you set this to a higher version (say
        for example version 3, however your network only understands version 2), the SMSC Gateway
        will automatically do the version negotiation and exchange V2 messages when V3
        exchange fails. However this causes additional messages to be exchanged and
        increases the overall load on the system. Therefore it is advisable to always set
        the correct version.
]]></screen>
			</section>
			<section id="set_maxmapv_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set MAP Application Context version using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'SS7 Settings' tab in the GUI.
				</para></step>
				<step><para>You can specify the MAP Application Context version by entering the value in the text field 'MAP version supported'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="mapcache">
			<title>MAP Version Cache</title>
			<para>&THIS.PLATFORM; &THIS.APPLICATION; caches the negotiated MAP Version for each network node. Cache stores the Global Title of SCCP address of the network node. Every MT SMS sent to this node will use the cached Version. This will help in reducing the MAP Version negotiation duration everytime and hence improve the performance.</para>

			<section id="mapcache_cli">
			<title>Using CLI</title>
<para>
You can set the 'MAP Version Cache' value by issuing the command <command>smsc mapcache set</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc mapcache get</command> which will display all the cached values. Alternatively you can retrieve the cached value for a specific node by issuing the command <command>smsc mapcache get &lt;node_digits&gt;</command>. You can clear the cache by issuing the command <command>smsc mapcache clear</command>.
</para>
<screen><![CDATA[
Name
	smsc mapcache set

SYNOPSIS
	smsc mapcache set <node_digits> <version>

DESCRIPTION
	This command is used to set the version for the specific node digits. SMSC Gateway
	caches the negotiated MAP Version for each network node. Every MT SMS sent to this
	node will use the cached Version.
]]></screen>
			</section>
			<section id="mapcache_gui">
			<title>Using GUI</title>
			<procedure>
				<title>Managing MAP Version Cache value using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'MAP Version Cache' in the left panel.
				</para></step>
				<step><para>You can specify the MAP Application Context version for every node by entering the value for Node Digits and choosing the Version for MAP MtForwardSm operation.
				</para></step>
				<step><para>You must click on the button 'Update' to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
				<step><para>To view the cached version value for a specific node, enter the node digits (under View Cache) and click on the "View" button. The cached value will be displayed in the log.</para></step>
				<step><para>To clear all the cached values, click on the "Clear Cache" button.</para></step>
			</procedure>
			</section>
		</section>
		<section id="set_maxmessagelengthreducer">
			<title>Max Message Length Reducer</title>
			<section id="set_maxmessagelengthreducer_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Max Message Length Reducer' value by issuing the command <command>smsc set maxmessagelengthreducer</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get maxmessagelengthreducer</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set maxmessagelengthreducer

SYNOPSIS
	smsc set maxmessagelengthreducer <max-message-length-reducer>

DESCRIPTION
	This command is used to set an integer value for max-message-length-reducer.
	The recommended value is 6. Possible values are numbers from 0 to 12. 

	Empty TC-BEGIN will be used if the message length is greater than the maximum
	possible message length minus the value specified for max-message-length-reducer.

	(message-length > max-possible-message-length - max-message-length-reducer) 

	Empty TC-BEGIN is used in MAP Version 2 and 3 for forwardSM and Mt-ForwardSM 
	requests. In MAP Version 2 the dailog portion
	(ApplicationContextName, MAPOpenInfo primitive) and the component portion 
	(forwardSM and mt-ForwardSM requests) may both together be too long to fit within 
	a MTP message. In Empty TC-BEGIN case, it first sends the dailog portion in 
	TC-BEGIN followed by the component portion in the next TC-CONTINUE. 
	Whether empty TC-BEGIN is used or not depends on the length of a message and the 
	length of SCCP addresses. This option increases the guarantee of delivery of a 
	message  to some network.

EXAMPLES
	smsc set maxmessagelengthreducer 6
]]></screen>
			</section>
			<section id="set_maxmessagelengthreducer_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Max Message Length Reducer using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'SS7 Settings' tab in the GUI.
				</para></step>
				<step><para>You can specify the Max Message Length Reducer by entering the value in the text field 'Max Message Length Reducer'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
		</section>

<!--cassandra settings -->
		<section id="SMSC_db_Settings">
		<title>Cassandra Settings</title>
			<para>You can manage Cassandra Settings using the CLI or GUI. Note that the modified settings will become effective only when the SMSC is re-started.</para>
			<section id="db_host">
			<title>Cassandra Configuration - Host Address and Port</title>
			<section id="db_host_CLI">
			<title>Using CLI</title>
<para>
You can set the 'host address and port' values for Cassandra settings by issuing the command <command>smsc set hosts</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get hosts</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set hosts

SYNOPSIS
	smsc set hosts <host-ip:port>

DESCRIPTION
	This command is used to set the host-ip address and port for Cassandra Database
	access.

EXAMPLES
	smsc set hosts 127.0.0.1:9042
]]></screen>
			</section>
			<section id="db_host_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Cassandra Configuration - Host Address and Port using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Cassandra' tab in the GUI.
				</para></step>
				<step><para>You can specify the host-ip address and port by entering appropriate values in the text fields 'Host Address' and 'Port' respectively. For more details of these parameters, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
		
			<section id="db_keyspace">
			<title>Cassandra Configuration - Keyspace Name</title>
			<section id="db_keyspace_CLI">
			<title>Using CLI</title>
<para>
You can set the 'DB Keyspace Name' by issuing the command <command>smsc set keyspacename</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get keyspacename</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set keyspacename

SYNOPSIS
	smsc set keyspacename <keyspacename>

DESCRIPTION
	This command is used to set the Keyspace name for Cassandra Database. If you use
	the script available in the distributive the name will be set to 'TelestaxSMSC' by
	default. 
]]></screen>
			</section>
			<section id="db_keyspace_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Cassandra Configuration - Keyspace Name using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Cassandra' tab in the GUI.
				</para></step>
				<step><para>You can specify the Keyspace Name by entering the value in the text field 'Keyspace Name'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="db_cluster">
			<title>Cassandra Configuration - Cluster Name</title>
			<section id="db_cluster_CLI">
			<title>Using CLI</title>
<para>
You can set the 'DB Cluster Name' value by issuing the command <command>smsc set clustername</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get clustername</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set clustername

SYNOPSIS
	smsc set clustername <cluster-name>

DESCRIPTION
	This command is used to set the Cluster name for Cassandra Database. If you use
	the script available in the distributive the name will be set to 'TelestaxSMSC' by
	default. 

EXAMPLES
	smsc set clustername TelestaxSMSC
]]></screen>
			</section>
			<section id="db_cluster_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Cassandra Configuration - Cluster Name using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Cassandra' tab in the GUI.
				</para></step>
				<step><para>You can specify the Cluster Name by entering the value in the text field 'Cluster Name'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
		</section>
		<section id="SMSC_scheduler_Settings">
		<title>Scheduler Settings</title>
			<para>You can modify Scheduler settings using the CLI or GUI. The modified settings for Fetch Period will become effective only when the SMSC is re-started. However modified settings for Max Rows and Max Activity Count will take effect immediately.</para>
			<section id="fetch_period">
			<title>Fetch Period (in ms)</title>
			<section id="fetch_period_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Fetch Period' value by issuing the command <command>smsc set fetchperiod</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get fetchperiod</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set fetchperiod

SYNOPSIS
	smsc set fetchperiod <fetch-period>

DESCRIPTION
	This command is used to set the fetch period value in milli-seconds for the
	Cassandra database. The parameter fetch-period specifies the time 
	period (in milli-seconds) of fetching messages for delivery from the database.
	The default value is 5 seconds.

EXAMPLES
	smsc set fetchperiod 5000
]]></screen>
			</section>
			<section id="fetch_period_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Cassandra Configuration - Cluster Name using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Scheduler' tab in the GUI.
				</para></step>
				<step><para>You can specify the Fetch Period by entering the value in the text field 'Fetch Period (in ms)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="max_rows">
			<title>Max Rows</title>
			<section id="max_rows_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Max Rows' value by issuing the command <command>smsc set fetchmaxrows</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get fetchmaxrows</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set fetchmaxrows

SYNOPSIS
	smsc set fetchmaxrows <fetch-max-rows>

DESCRIPTION
	This command is used to set the maximum message fetching count for every fetching
	step from the database.
	The default value is 100 messages.

EXAMPLES
	smsc set fetchmaxrows 200
]]></screen>
			</section>
			<section id="max_rows_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Max Rows using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Scheduler' tab in the GUI.
				</para></step>
				<step><para>You can specify the Max Rows by entering the value in the text field 'Max Rows'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="max_activity_count">
			<title>Max Activity Count</title>
			<section id="max_activity_count_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Max Activity Count' value by issuing the command <command>smsc set maxactivitycount</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get maxactivitycount</command> which will display the value set for this property.
</para>
<screen><![CDATA[
Name
	smsc set maxactivitycount

SYNOPSIS
	smsc set maxactivitycount <max-activity-count>

DESCRIPTION
	This command is used to set the maximum count of delivering activities that are 
	possible at the same time. 'Count of delivering activities' means the count of 
	messages that are in the state 'delivering' (messages that are fetched from the 
	database and may be already sent or are going to be sent but 
	no delivery acception/rejection has been received). 
	When the delivery process of a message is in progress, field LIVE.IN_SYSTEM==2.

EXAMPLES
	smsc set maxactivitycount 500
]]></screen>
			</section>
			<section id="max_activity_count_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Max Activity Count using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Scheduler' tab in the GUI.
				</para></step>
				<step><para>You can specify the Max Activity Count by entering the value in the text field 'Max Activity Count'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="reviseSecondsOnSmscStart">
			<title>Revise period after SMSC restart</title>
			<section id="reviseSecondsOnSmscStart_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Revise period (in seconds) after SMSC restart' value by issuing the command <command>smsc set reviseSecondsOnSmscStart</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get reviseSecondsOnSmscStart</command> which will display the value set for this property. If unspecified, the default value for this parameter is 60 seconds.
</para>
<screen><![CDATA[
Name
	smsc set reviseSecondsOnSmscStart <seconds>

SYNOPSIS
	smsc set reviseSecondsOnSmscStart <seconds>

DESCRIPTION
	This command is used to set the revise period (in seconds). After every restart,
	the SMSC Gateway will revise the last 'x' seconds before shutdown to ensure that
	all the arrived messages are processed; where 'x' is the value set in seconds
	for the parameter 'reviseSecondsOnSmscStart' using this command.
EXAMPLES
	smsc set reviseSecondsOnSmscStart 30
]]></screen>
			</section>
			<section id="reviseSecondsOnSmscStart_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Revise Period using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Scheduler' tab in the GUI.
				</para></step>
				<step><para>You can specify the revise period in seconds by entering the value in the text field 'Revise period after SMSC restart (sec)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
			<section id="processingSmsSetTimeout">
			<title>Cache timeout period</title>
			<section id="processingSmsSetTimeout_CLI">
			<title>Using CLI</title>
<para>
You can set the 'Cache timeout period' value by issuing the command <command>smsc set processingSmsSetTimeout</command> with appropriate parameters as described below. You can verify this by issuing the command <command>smsc get processingSmsSetTimeout</command> which will display the value set for this property. If unspecified, the default value for this parameter is 600 seconds. Generally, you may not have to modify this value.
</para>
<screen><![CDATA[
Name
	smsc set processingSmsSetTimeout <seconds>

SYNOPSIS
	smsc set processingSmsSetTimeout <seconds>

DESCRIPTION
	This command is used to set the Cache timeout period (in seconds). 
	Messages are cached in the SMSC until the processing is completed. In case of a 
	delivery failure, these cached messages are force cleaned by the SMSC after 
	waiting for the timeout period set for the parameter 'processingSmsSetTimeout' 
	using this command.
EXAMPLES
	smsc set processingSmsSetTimeout 45
]]></screen>
			</section>
			<section id="processingSmsSetTimeout_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Set Cache timeout Period using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'Server Settings' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing Settings, segregated into four horizontal tabs: Properties, SS7 Settings, Cassandra and Scheduler. Switch to the 'Scheduler' tab in the GUI.
				</para></step>
				<step><para>You can specify the Cache timeout period in seconds by entering the value in the text field 'Processing Sms set cache timeout (sec)'. For more details of this parameter, please refer to the description of the CLI command for the same in the preceding section. 
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
			</section>
		</section>
	</section>
	<section id="SMPP_Server_Settings">
	<title>SMPP Server Settings</title>

		<section id="SMPP_Server_Settings_View">
		<title>View SMPP Server Details</title>
			<section id="SMPP_Server_Settings_View_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>View SMPP Server Details using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'SMPP Server' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing SMPP Server details as configured in the section <literal>SmscManagement</literal> in the xml descriptor file <filename>telscale-smsc-&lt;version&gt;/jboss-5.1.0.GA/server/&lt;profile&gt;/deploy/telscale-smsc-server/META-INF/jboss-beans.xml</filename>.
					</para></step>
				<step><para>You can view the current Session details of the SMPP Server by clicking on the row corresponding to the name of the SMPP Server (<literal>SmscManagement</literal> in this case).
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="SMPP_Server_Settings_Edit">
		<title>Edit SMPP Server Properties</title>
			<section id="SMPP_Server_Settings_Edit_CLI">
			<title>Using CLI</title>
<para>
You can edit the properties of the SMPP Server by issuing appropriate commands for every property as described below:
</para>
<screen><![CDATA[
Name
	smppserver set port

SYNOPSIS
	smppserver set port <port>

DESCRIPTION
	This command is used to set the port that the SMSC server is listening to for 
	incoming bind request. 

	If unspecified, the default port is 2776.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set bindtimeout

SYNOPSIS
	smppserver set bindtimeout <bind-timeout>

DESCRIPTION
	This command is used to set a value for bind-timeout in milli-seconds. 
	Once the TCP socket is established, the SMSC server will wait for the time period 
	specified by the parameter bind-timeout in milli-seconds, for the peer to send a 
	bind request, after which it will kill the TCP socket.

	If unspecified, the default value is 5000 milli-seconds.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set systemid

SYNOPSIS
	smppserver set systemid <system-id>

DESCRIPTION
	This command is used to set the value for system-id. This is the 'system-id' 
	included in the Bind response.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set autonegotiateversion

SYNOPSIS
	smppserver set autonegotiateversion <true/false>

DESCRIPTION
	This command is used to specify if auto-negotiate-version is enabled or not.
	If it is set to 'true' and a Bind is received with version <= 3.3 for 
	interface version, then it is normalized to version 3.3. If a Bind is received 
	with version >= 3.4 for interface version, it is normalized to version 3.4.

	The default value is true.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set interfaceversion

SYNOPSIS
	smppserver set interfaceversion <interface-version>

DESCRIPTION
	This command is used to specify the SMPP version that the Server supports. 

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set maxconnectionsize

SYNOPSIS
	smppserver set maxconnectionsize <max-connection-size>

DESCRIPTION
	This command is used to specify the maximum number of connections/sessions this 
	Server is expected to handle.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set defaultwindowsize

SYNOPSIS
	smppserver set defaultwindowsize <defaultwindowsize>

DESCRIPTION
	This command is used to specify the default window size for this Server. 
	The window size is the amount of unacknowledged requests that are permitted to be 
	outstanding/unacknowledged at any given time. If more requests are added, the 
	underlying stack will throw an exception.

	The default value is 100.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set defaultwindowwaittimeout

SYNOPSIS
	smppserver set defaultwindowwaittimeout <default-window-wait-timeout>

DESCRIPTION
	This command is used to specify the default-window-wait-timeout for this Server
	in milli-seconds. 
	The window wait timeout is the time within which the connection to remote SMSC
	Server should be established.

	The default value is 30000 milli seconds.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set defaultrequestexpirytimeout

SYNOPSIS
	smppserver set defaultrequestexpirytimeout <default-request-expiry-timeout>

DESCRIPTION
	This command is used to specify the default-request-expiry-timeout for the Server 
	in milli-seconds. The request expiry timeout is the time to wait for an end-point 
	to respond to before it expires.

	The default value is 30000 milli seconds.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set defaultwindowmonitorinterval

SYNOPSIS
	smppserver set defaultwindowmonitorinterval <default-window-monitor-interval>

DESCRIPTION
	This command is used to specify the default-window-monitor-interval for the Server 
	in milli-seconds. This is the time between executions of monitoring the window for
	requests that expire. It is recommended that this value, generally, either matches 
	or is half the value of 'request-expiry-timeout'. Therefore, in the worst case
	scenario, a request could take upto 1.5 times the 'requestExpiryTimeout' to 
	clear out.

	The default value is 15000 milli seconds.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>
<screen><![CDATA[
Name
	smppserver set defaultsessioncountersenabled

SYNOPSIS
	smppserver set defaultsessioncountersenabled <true/false>

DESCRIPTION
	This command is used to set the parameter 'defaultsessioncountersenabled' value 
	to true or false.
	When this is enabled, SMSC exposes the statistics for SMPP connections.

	The default value is true.

	You must restart the SMPP Server for the new value to take effect.
]]></screen>


			</section>
			<section id="SMPP_Server_Settings_Edit_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Edit SMPP Server Properties using GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'SMPP Server' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing SMPP Server details as configured in the section <literal>SmscManagement</literal> in the xml descriptor file <filename>telscale-smsc-&lt;version&gt;/jboss-5.1.0.GA/server/&lt;profile&gt;/deploy/telscale-smsc-server/META-INF/jboss-beans.xml</filename>.
				</para></step>
				<step><para>You can edit the properties of the SMPP Server by launching the edit window. You can achieve this by clicking on the blue coloured 'edit' button at the end of the row. The edit window will display all SMPP properies as shown in the figure below. For more details of these parameters please refer to the descriptions of the CLI commands for the same in the preceding section. 

	<figure>
  		<title>SMPP Server - GUI - &THIS.PLATFORM; &THIS.APPLICATION;</title>
  		<mediaobject>
    		<imageobject>
      			<imagedata fileref="images/GUI-SMSC-GW-SMPP-EDIT.png" format="PNG" align="center"/>
    		</imageobject>
  		</mediaobject>
	</figure>
				</para></step>
				<step><para>
				To edit any property, click on the edit icon of the row corresponding to the property. This action will display an editable text field for the property as shown in the figure above. Adjacent to the editable text field, you will find a 'tick' icon and a 'x' icon. To accept the newly entered value for the property, you must click on the 'tick' icon. To discard the change and stop the editing of the property, you must click on the 'x' icon.
				</para></step>
				<step><para>You must click on the button 'Apply Changes' at the top of the window to save your settings. If there is an error in setting the value, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>



		<section id="SMPP_Server_Settings_Start">
		<title>Start SMPP Server</title>
			<section id="SMPP_Server_Settings_Start_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Start SMPP Server using GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'SMPP Server' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing SMPP Server details as configured in the section <literal>SmscManagement</literal> in the xml descriptor file <filename>telscale-smsc-&lt;version&gt;/jboss-5.1.0.GA/server/&lt;profile&gt;/deploy/telscale-smsc-server/META-INF/jboss-beans.xml</filename>.
				</para></step>
				<step><para>You can start the SMPP Server by clicking on the 'Start' icon lit green in the row corresponding to the SmscManagement unit. This icon will be enabled only if the SMPP server is currently stopped.
				</para></step>
				<step><para>
				This action will start the SMPP Server.
				</para></step>
				<step><para>If there is an error in starting the SMPP Server, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="SMPP_Server_Settings_Stop">
		<title>Stop SMPP Server</title>
			<section id="SMPP_Server_Settings_Stop_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Stop SMPP Server using GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'SMPP Server' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing SMPP Server details as configured in the section <literal>SmscManagement</literal> in the xml descriptor file <filename>telscale-smsc-&lt;version&gt;/jboss-5.1.0.GA/server/&lt;profile&gt;/deploy/telscale-smsc-server/META-INF/jboss-beans.xml</filename>.
				</para></step>
				<step><para>You can stop the SMPP Server by clicking on the 'Stop' icon lit red in the row corresponding to the SmscManagement unit. This icon will be enabled only if the SMPP server is currently running.
				</para></step>
				<step><para>
				This action will stop the SMPP Server.
				</para></step>
				<step><para>If there is an error in stopping the SMPP Server, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="SMPP_Server_Settings_Reset_Counters">
		<title>Reset Counters for SMPP Server</title>
			<section id="SMPP_Server_Settings_Reset_Counters_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Reset Counters for SMPP Server using GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'SMPP Server' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing SMPP Server details as configured in the section <literal>SmscManagement</literal> in the xml descriptor file <filename>telscale-smsc-&lt;version&gt;/jboss-5.1.0.GA/server/&lt;profile&gt;/deploy/telscale-smsc-server/META-INF/jboss-beans.xml</filename>.
				</para></step>
				<step><para>You can view the current Session details of the SMPP Server by clicking on the row corresponding to the name of the SMPP Server (<literal>SmscManagement</literal> in this case).
				</para></step>
				<step><para>
				This action will display the current session details of the SMPP Server. If you scroll to the bottom, you will find a button named 'Reset Counters'. Click on it if you wish to reset all counters for SMPP Server.
				</para></step>
				<step><para>If there is an error resetting the counters, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>
		</section>
	</section>
	<section id="ESME_Settings">
	<title>External Short Messaging Entities (ESMEs)</title>
<para>&THIS.PLATFORM; &THIS.APPLICATION; can now act as ESME (initiate bind to remote SMSC) or can also act as SMSC (accept bind from remote ESME). While defining an ESME (SMPP connection), you can optionally pass the Cluster name. If it is not passed, cluster name is same as ESME name. As the name suggests, its now possible to group different ESMEs in the same cluster. This is useful only when SMS is suppose to be routed out of &THIS.PLATFORM; &THIS.APPLICATION; to ESME. If there are multiple ESME's in a cluster, the load is shared in a round robin fashion to send out SMS. In case if one of the ESME is in <literal>UNBOUND</literal> state, the next <literal>BOUND</literal> smpp connection (within same cluster) will be used. 
		</para>
		<para>
You can define multiple ESMEs, each with a unique name but the same <literal>systemId</literal> and declare their <literal>host-ip</literal> and <literal>port</literal> values as -1 (only for SMPP type Server). The SMSC will now accept multiple incoming BIND requests from any <literal>IP</literal> and any <literal>port</literal> as far as the <literal>systemId</literal> and <literal>Password</literal> matches. 
		</para>
		<para>
Alternatively, if you declare a real value for <literal>host-ip</literal>(say for example 10.199.7.23) and <literal>port</literal> as -1, the SMSC will accept as many BINDS as ESMEs defined from the specified IP but any port as far as the <literal>systemId</literal> and <literal>Password</literal> matches. 
		</para>		
		<section id="ESME_Settings_Create">
		<title>Create new ESME</title>
		<section id="ESME_Settings_Create_CLI">
		<title>Using CLI</title>
		<para>
You can configure a new ESME by issuing the command <command> smsc esme create</command> with appropriate parameters as described below.
</para>
<screen><![CDATA[
Name
	smsc esme create

SYNOPSIS
	smsc esme create name <systemId> <Specify password> <host-ip> <port> 
	<SmppBindType> <SmppSession.Type> system-type <sms | vms | ota > 
	interface-version <3.3 | 3.4 | 5.0> esme-ton <esme address ton> 
	esme-npi <esme address npi> esme-range <esme address range> 
	cluster-name <clusterName> window-size <windowSize> 
	connect-timeout <connectTimeout> request-expiry-timeout <requestExpiryTimeout> 
	window-monitor-interval <windowMonitorInterval> 
	window-wait-timeout <windowWaitTimeout> counters-enabled <true | false> 
	enquire-link-delay <30000>

DESCRIPTION
	This command is used to configure a new ESME.

PARAMETERS

	Standard Parameters

	Name			- A unique name for this ESME configuration. You can 
				  define as many ESMEs as you want as far as the name is 
				  unique and the combination of 
				  SystemId:host-ip:port:SmppBindType is unique.

	System Id		- This is used to identify an ESME or an SMSC at bind 
				  time. An 'ESME system_id' identifies the ESME or ESME 
				  agent to the SMSC. The 'SMSC system_id' provides an 
				  identification of the SMSC to the ESME. You can define 
				  multiple ESMEs, each with a unique name but the same 
				  <literal>systemId<literal> to allow anonymous incoming
				  binds and multiple binds from the same IP depending on
				  the values specified for host-ip and port.

	Password		- It is used by the SMSC to authenticate the identity of 
				  the binding ESME. The Service Provider may require 
				  ESME’s to provide a password when binding to the SMSC.

	host-ip	& port		- If the SMSC is acting as an ESME, the BIND request will 
				  be sent to the configured IP and Port. If the SMSC is 
				  acting as a Server, it will accept incoming BIND 
				  requests from the specified IP and Port. 
				  If the port is unknown, you must pass '-1' as wild 
				  character.

				  When you define multiple ESMEs with the same systemId,if
				  host-ip and port values are -1 (for SMPP type Server), 
				  the SMSC will accept multiple incoming BIND requests
			          from any IP:Port as long as the systemId and password
				  match. 

				  When you define multiple ESMEs with the same systemId,if
				  host-ip is a real value (a specific IP) and port value 
				  is -1, the SMSC will accept as many BINDS as ESMEs 
				  defined from the specified IP but any port as long as 
				  the systemId and password match. 

	SmppBindType 		- Possible values: TRANSCEIVER, TRANSMITTER or RECEIVER. 
				  If the SMSC is acting as an ESME, it will initiate 
				  corresponding bind. If the SMSC is acting as a Server,
				  it will accept corresponding bind from a remote ESME.

	SmppSession.Type 	- Possible values: SERVER or CLIENT. 
				  If the value is 'SERVER', the SMSC acts as a Server 
				  listening for incoming SMPP binds. 
				  If the value is 'CLIENT', the SMSC will initiate 
				  SMPP bind to a remote Server.

	Optional Parameters

	system-type 		- Default value is null. 
				  This is used to categorize the type of ESME that is 
				  binding to the SMSC.

	interface-version	- Default value is 3.4. 

				  It is used to indicate the version of the SMPP protocol.

				  It is set in 'SMPPServer Settings'. 

	esme-ton 		- Default value is 1 (International).

				  If the SMSC is acting as a Server, esme-ton for incoming 
				  BIND request should match with the configured value. 
				  If the SMSC is initiating the BIND then this value will 
				  be included in the bind request.

				  It is set in "Server Settings". 
				 
				  Possible values:

				  Value 	Description
				  ----------------------------------
				  0 		Unknown
				  1 		International
				  2 		National
				  3 		Network Specific
				  4 		Subscriber Number
				  5		Alphanumeric
				  6		Abbreviated
				  7		Reserved Ext

	esme-npi 		- Default value is 1 [ISDN (E163/E164)]  

				  If the SMSC is acting as a Server, the esme-npi for 
				  incoming BIND request should match with the configured 
				  value. 
				  If the SMSC is initiating the BIND then this value will 
				  be included in bind request.

				  It is set in "Server Settings". 

				  Possible values:

				  Value 	Description
				  ----------------------------------
				  0 		Unknown
				  1 		ISDN (E163/E164)
				  3 		Data (X.121)
				  4 		Telex (F.69)
				  6 		Land Mobile (E.212)
				  8		National
				  9		Private
				  10		ERMES 
				  12		Internet (IP)
				  18		WAP Client Id (to be defined by WAP Forum)		

	esme-range 		- If the SMSC is acting as a Server, the incoming bind 
				  request's 'esme-range' should match with the configured 
				  value. If the incoming bind doesn't carry an esme-range,
				  the value defined here will be used.

				  If the SMSC is acting as a Client, the bind request 
				  initiated will carry this esme-range.

				  If the routing rule is not defined, SMS routing between 
				  different ESMEs happens based on the esme-range.

	cluster-name 		- If it is not specified then its same as the name. 
				  It is possible to group different SMPP connections 
				  together by specifying the same cluster-name. 
				  All the SMPP connection's that are capable of sending 
				  out SMS are candidates for grouping.

	window-size 		- Default value is 1. 
				  The window size is the amount of unacknowledged requests
				  that are permitted to be outstanding/unacknowledged at 
				  any given time. If more requests are added, the 
				  underlying stack will throw an exception.

				  This value is set only when ESME is defined as Client 
				  side. For Server side this value is taken from the 
				  'SMPP Server Settings'.
	  
	connect-timeout		- Default value is 10000 milli seconds. 
				  This parameter is used to specify the time within which 
				  the connection to a remote SMSC server should be 
				  established.

				  This is useful only when ESME is defined as Client Side. 
				  For Server side this value is taken from the
				  the 'SMPP Server Settings'.

	request-expiry-timeout	- Default value is -1 (disabled). 
				  This parameter is used to specify the time to wait in 
				  milli seconds for an endpoint to respond to before it 
				  expires.

				  This is useful only when ESME is defined as Client Side. 
				  For Server side this value is taken from the
				  the 'SMPP Server Settings'.

	window-monitor-interval	- Default value is -1 (disabled).
				  This parameter is used to specify the time between 
				  executions of monitoring the window for requests that 
				  expire. It is recommended that this value, generally, 
				  either matches or is half the value of 
				  'request-expiry-timeout'. Therefore, in the worst case
				  scenario, a request could take upto 1.5 times the 
				  'requestExpiryTimeout' to clear out.

				  This is useful only when ESME is defined as Client Side. 
				  For Server side this value is taken from the
				  the 'SMPP Server Settings'.

	window-wait-timeout 	- Default value is 60000 milli seconds. 
				  This parameter is used to specify the time to wait 
				  until a slot opens up in the 'sendWindow'.

				  This is useful only when ESME is defined as Client Side. 
				  For Server side this value is taken from the
				  the 'SMPP Server Settings'.

	counters-enabled 	- Default value is true. 
				  When this is enabled, SMSC exposes the statistics for
				  SMPP connections.

				  This is useful only when ESME is defined as Client Side. 
				  For Server side this value is taken from the
				  the 'SMPP Server Settings'.

	enquire-link-delay	- Default value is 30000 milli seconds. 
				  When SMSC connects to a remote server as CLIENT, it 
				  sends an 'ENQUIRE_LINK' after every configured 
				  enquire-link-delay.

SEE ALSO
	smsc get scgt, smsc set scgt, smsc get scssn, smsc set scssn, smsc get hlrssn,
	smsc set hlrssn, smsc get mscssn, smsc set mscssn, smsc get maxmapv, 
	smsc set maxmapv
]]></screen>
			</section>
			<section id="ESME_Settings_Create_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Create new ESME using GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'ESMEs' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing ESMEs (if any), one each in a row with corresponding actions (start, stop, delete) for each row. Below this you will find the button 'Create ESME'.
				</para></step>
				<step><para>You can create a new ESME by launching the 'Create ESME' window by clicking on the blue coloured 'Create ESME' button. The 'Create ESME' window will display all ESME paramters that must be defined by you. For more details of these parameters please refer to the descriptions of the CLI commands for the same in the preceding section. 
				</para></step>
				<step><para>
				Enter appropriate values for all the parameters and then click on the 'Create' button at the bottom of this 'Create ESME' window. This action will create a new ESME with parameters as defined by you.
				</para></step>
				<step><para>If there is an error in defining the ESME, then you will find the details of the error in the Management Console Log section below.
				</para></step>
			</procedure>
			</section>	

		</section>
		<section id="ESME_Settings_View">
		<title>View ESME Details</title>
			<section id="ESME_Settings_View_View_CLI">
			<title>Using CLI</title>
<para>
You can view the details of all configured ESMEs by issuing the command <command>smsc esme show</command> as described below.
</para>
<screen><![CDATA[
Name
	smsc esme show

SYNOPSIS
	smsc esme show

DESCRIPTION
	This command is used to list all configured ESMEs.
]]></screen>
			</section>
			<section id="ESME_Settings_View_View_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>View ESME using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'ESMEs' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing ESMEs (if any), one each in a row with corresponding actions (start, stop, delete) for each row. 
				</para></step>
				<step><para>You can view the details of an ESME by clicking on the row corresponding to the ESME. All relevant details of the ESME will be displayed in an expanded format.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="ESME_Settings_Delete">
		<title>Delete an existing ESME</title>
			<section id="ESME_Settings_Delete_CLI">
			<title>Using CLI</title>
<para>
You can delete any ESME by issuing the command <command>smsc esme delete</command> with appropriate parameters as described below.
</para>
<screen><![CDATA[
Name
	smsc esme delete

SYNOPSIS
	smsc esme delete <esmeName>

DESCRIPTION
	This command is used to delete an existing ESME.

PARAMETERS
	esmeName		- Name of the ESME to be destroyed.
]]></screen>
			</section>
			<section id="ESME_Settings_Delete_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Delete ESME using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'ESMEs' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing ESMEs (if any), one each in a row with corresponding actions (start, stop, delete) for each row. 
				</para></step>
				<step><para>To delete an existing ESME click on the delete icon marked 'x' in red, for the row corresponding to the ESME. You can delete an ESME only if it is stopped.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="ESME_Settings_Start">
		<title>Start ESME</title>
			<section id="ESME_Settings_start_CLI">
			<title>Using CLI</title>
<para>
You can start an ESME by issuing the command <command>smsc esme start</command> with appropriate parameters as described below.
</para>
<screen><![CDATA[
Name
	smsc esme start

SYNOPSIS
	smsc esme start <esmeName>

DESCRIPTION
	This command is used to start an existing ESME.

PARAMETERS
	esmeName		- Name of the ESME to be started.
]]></screen>
			</section>
			<section id="ESME_Settings_start_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Start ESME using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'ESMEs' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing ESMEs (if any), one each in a row with corresponding actions (start, stop, delete) for each row. 
				</para></step>
				<step><para>To start an existing ESME click on the start icon lit in green, for the row corresponding to the ESME. You can start an ESME only if it is currently stopped.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="ESME_Settings_Stop">
		<title>Stop ESME</title>
		<section id="ESME_Settings_stop_CLI">
			<title>Using CLI</title>
<para>
You can stop an ESME by issuing the command <command>smsc esme stop</command> with appropriate parameters as described below.
</para>
<screen><![CDATA[
Name
	smsc esme stop

SYNOPSIS
	smsc esme stop <esmeName>

DESCRIPTION
	This command is used to stop an already running ESME.

PARAMETERS
	esmeName		- Name of the ESME to be stopped.
]]></screen>
			</section>
			<section id="ESME_Settings_stop_GUI">
			<title>Using GUI</title>
			<procedure>
				<title>Stop ESME using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'ESMEs' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing ESMEs (if any), one each in a row with corresponding actions (start, stop, delete) for each row. 
				</para></step>
				<step><para>To stop an ESME click on the stop icon lit in red, for the row corresponding to the ESME. You can stop an ESME only if it is currently running.
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="others_ESME">
		<title>Other ESME Operations</title>
		<section id="others_ESME_GUI">
		<title>Using GUI</title>
		<para>You can perform more operations in the GUI for any configured ESME. You can enable/disable Log Bytes and Log Pdu, dump window and reset counters.</para>
		<procedure>
				<title>Other ESME Operations using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'ESMEs' in the left panel.
				</para></step>
				<step><para>The main panel will display the existing ESMEs (if any), one each in a row with corresponding actions (start, stop, delete) for each row. 
				</para></step>
				<step><para>You can view the details of an ESME by clicking on the row corresponding to the ESME. All relevant details of the ESME will be displayed in an expanded format.
				</para></step>
				<step><para>At the bottom of this expanded display you will find 6 buttons allowing you to perform the operations DisableLogBytes, DisableLogPdu, DumpWindow, EnableLogBytes, EnableLogPdu and ResetCounters.
				</para></step>
			</procedure>
		</section>
		</section>
	</section>
	<section id="db_routing_rule_settings">
	<title>Routing Rules</title>
	<para>
	&THIS.PLATFORM; &THIS.APPLICATION; can now act as a SMPP Server accepting incoming SMPP connections or can also act as a SMPP client initiating a connection to a remote SMSC server. Therefore you can now set an intelligent routing rule to route SMS between SMPP connections or between SMPP and GSM.
	</para>
	<para>
By default, &THIS.PLATFORM; &THIS.APPLICATION; is setup to leverage the "address-range" to decide the routing of SMS. For example:
	</para>
	<para>
1) If Server ESME is defined of type RECEIVER (and hence accepts incoming RECEIVER BIND from peer client) with address range as 6666; if SMS arrives in system destined for 6666, it matches with this ESME and SMS will be sent as DELIVER_SM to client side. 
	</para>
	<para>
2) If Client ESME is defined of type TRANSMITTER (and hence initiates TRANSMITTER BIND to peer server) with address range as 6666; if SMS arrives in system destined for 6666, it matches with this ESME and SMS will be sent as SUBMIT_SM to server side.
	</para>
	<para>
The destined number of SMS is checked with address range. &THIS.PLATFORM; &THIS.APPLICATION; uses regular expression for matching the pattern.
	</para>
	<para>
The above methodology can work if the routing rule is based on MSISDN range, however if the range is not fixed (like in case of Number Portability) the above process will break. In such cases you can define a Database routing rule. You must change the value of the property <literal>smsRoutingRuleClass</literal> in the file <filename>Telscale-smscgateway-&lt;version&gt;/jboss-5.1.0.GA/server/default/deploy/telscale-smsc-server/META-INF/jboss-beans.xml</filename> to look like below and un-comment if its commented out:
<screen><![CDATA[
<property name="smsRoutingRuleClass">org.mobicents.smsc.smpp.DatabaseSmsRoutingRule</property> 
]]>
</screen>
SMSC stores the routing rule in the Cassandra Database. You can populate this table with address and corresponding cluster name as explained in the sections below.
	</para>
		<section id="update_db_rule">
		<title>Create/Update Database Routing Rule</title>
			<section id="update_db_rule_cli">
			<title>Using CLI</title>
		<para>You can create or update a Database Routing Rule using the command <command>smsc databaserule update</command> with appropriate parameters as described below:
		</para>
<screen><![CDATA[
Name
	smsc databaserule update

SYNOPSIS
	smsc databaserule update <address> <systemId>

DESCRIPTION
	This command is used to add or update a Database Rule. 

	Database Rules are Rules that are used for routing messages to a proper ESME. 
	
	When you define a rule using the above command, you are creating a routing rule
	that states:
	"If the destination address of a message corresponds with the value specified in
	the 'address' field, then the message be sent to an ESME identified by the value
	specified in the 'systemId' field".

	To add a new rule you must issue the command with only the systemId parameter.

	To update an existing rule, you must issue the command with both the address 
	parameter and the systemId parameter.
]]>
</screen>
			</section>
			<section id="update_db_rule_gui">
			<title>Using GUI</title>
			<procedure>
				<title>Create/Update Database Routing Rule using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'DB Routing Rule' in the left panel.
				</para></step>
				<step><para>The main panel will allow you to create/update, delete and view DB Routing Rules.
				</para></step>
				<step><para>In order to create or update a DB Routing Rule, enter the values for MSISDN and ESME cluster name and click on 'Update'. A new rule will be created if it does not exist or updated if it exists. 
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="delete_db_rule">
		<title>Delete Database Routing Rule</title>
			<section id="delete_db_rule_cli">
			<title>Using CLI</title>
<para>You can delete a Database Routing Rule using the command <command>smsc databaserule delete</command> with appropriate parameters as described below:
		</para>
<screen><![CDATA[
Name
	smsc databaserule delete

SYNOPSIS
	smsc databaserule delete <address> 

DESCRIPTION
	This command is used to delete an existing Database Rule specified for 'address'. 
]]>
</screen>
			</section>
			<section id="delete_db_rule_gui">
			<title>Using GUI</title>
			<procedure>
				<title>Delete Database Routing Rule using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'DB Routing Rule' in the left panel.
				</para></step>
				<step><para>The main panel will allow you to create/update, delete and view DB Routing Rules.
				</para></step>
				<step><para>In order to delete a DB Routing Rule, enter the value for MSISDN and click on 'Delete'. The routing rule corresponding to that MSISDN will be deleted. 
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="get_db_rule">
		<title>View Database Routing Rule Information</title>
			<section id="get_db_rule_cli">
			<title>Using CLI</title>
<para>You can view a Database Routing Rule using the command <command>smsc databaserule get</command> with appropriate parameters as described below:
		</para>
<screen><![CDATA[
Name
	smsc databaserule get

SYNOPSIS
	smsc databaserule get <address> 

DESCRIPTION
	This command is used to view the details of an existing Database Rule specified 
	for 'address'. 
]]>
</screen>
			</section>
			<section id="get_db_rule_gui">
			<title>Using GUI</title>
			<procedure>
				<title>View Database Routing Rule using the GUI</title>
				<step><para>In the GUI Management Console for SMSC Gateway, click on 'DB Routing Rule' in the left panel.
				</para></step>
				<step><para>The main panel will allow you to create/update, delete and view DB Routing Rules.
				</para></step>
				<step><para>In order to view a DB Routing Rule, enter the value for MSISDN and click on 'View'. The routing rule corresponding to that MSISDN will be displayed. 
				</para></step>
			</procedure>
			</section>
		</section>
		<section id="getrange_db_rule">
		<title>Retrieve a range of Database Routing Rules</title>
			<section id="getrange_db_rule_cli">
			<title>Using CLI</title>
<para>You can retrieve a range of Database Routing Rules using the command <command>smsc databaserule getrange</command> with appropriate parameters as described below:
		</para>
<screen><![CDATA[
Name
	smsc databaserule getrange

SYNOPSIS
	smsc databaserule getrange <address>

DESCRIPTION
	This command is used to retrieve a list of database rules as text data. 

	<address> is an optional parameter.

	If a value is not specified for <address>, then the command will retrieve the 
	first 100 database rules. 

	If <address> is specified, then the command will retrieve a list of 100 database 
	rules starting from the record next to the record with address='address'.
]]>
</screen>
			</section>
		</section>
	</section>
</chapter>
