<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "${ent.filename}">
%BOOK_ENTITIES;
]>
<chapter id="configuring">

	<title>Configuring</title>
<para>Now that you have set up the Gateway you must configure the SS7 Stack and the Gateway. &THIS.PLATFORM; &THIS.APPLICATION; comes with an easy to use CLI (Shell) to allow easy configuration and management. This chapter will teach you to configure and manage the Gateway using the Command Line Interface.
<!--
6:02 PM so we can have "default" profile as clean
  and "simulator" profile configured to connect to simulator
 -->

</para>
	<section id="configuring_ss7">
		<title>Configuring the SS7 Stack</title>
		<para>You must configure the SS7 stack prior to configuring SMSC. For details on configuring the SS7 Stack please refer to the TelScale SS7 Stack User Guide. You must first start the Shell as explained in the previous chapter and connect to the managed instance prior to configuring the Stack. The TelScale SS7 Stack User Guide lists all available Shell commands to configure SS7. In addition help files are available for every command with all details relevant to the command.</para> 
	</section>
	<section id="setting_smsc_parameters">
		<title>Configuring the Gateway</title>
		<para>Once you have configured the SS7 stack you can continue with SMSC configuration. Start the Shell as explained in the previous chapter and connect to the managed instance. Prior to configuring the Gateway you must ensure that you have configured the SS7 Stack, following the instructions in the TelScale SS7 Stack User Guide and according to your requirements.			
				<variablelist>
					<title>Configuring a new ESME</title>
					<varlistentry>
					<term>COMMAND</term>
					<listitem><para>smsc esme create</para></listitem>
					</varlistentry>
					<varlistentry>
					<term>SYNOPSIS</term>
					<listitem><para>smsc esme create &lt;Any 4/5 digit number&gt; &lt;password&gt; &lt;host-ip&gt; &lt;port&gt; system-type &lt;sms | vms | ota&gt; interface-version &lt;3.3 | 3.4 | 5.0&gt; esme-ton &lt;esme address ton&gt; esme-npi &lt;esme address npi&gt; esme-range &lt;esme address range&gt;</para></listitem>
					</varlistentry>
					<varlistentry>
					<term>DESCRIPTION</term>
					<listitem><para>This command is used to configure a new ESME. The parameters 'System Id' and 'password' should match with the BIND request coming from ESME. The parameters 'host-ip' and 'port' are ignored for now so you can pass any values for these. 
The parameter 'esme-range' is mandatory for TRANSCEIVER/RECEIVER because this is used to match the incoming SMS (MoForwards) destination number to route to ESME. The parameters 'system-type' and 'interface-version' are optional.</para></listitem>
					</varlistentry>
					<varlistentry>
					<term>EXAMPLE</term>
					<listitem><para>
<screen><![CDATA[
smsc esme create 1234567890 password 127.0.0.1 2775 TRANSCEIVER esme-ton 0 esme-npi 0 esme-range [0-9a-zA-Z]
]]>
</screen>
					

				</para></listitem>
					</varlistentry>
				</variablelist>
			</para>

	</section>
</chapter>
