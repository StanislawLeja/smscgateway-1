<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "${ent.filename}">
%BOOK_ENTITIES;
]>

<chapter id="notes">
	<title>Important Notes</title>
   <!-- <section id="jss7_overview">
    	<title>Overview</title>-->
	<section id="notes_download">
		<title>Download</title>
		<para>
		The binary release is available for download from the TeleStax Customer Support Portal at <ulink url="&THIS.RELEASE_BINARY_URL;" />.
		</para>
	</section>
	<section id="notes_whats_included">
		<title>What's Included?</title>
		<para>
		This binary release includes: 
		<itemizedlist>
			<listitem><para>cassandra: Contains the script that can help you to learn how Cassandra Keyspace is configured.
			This is not a script for database structure creation, SMSC GW will create Cassandra Keyspace itself.</para></listitem>
			<listitem><para>docs: Contains all relevant documentation in respective subfolders.</para></listitem>
			<listitem><para>jboss-5.1.0.GA: The core server with two profiles "default" and "simulator".
			The "default" profile is a clean profile where you will have to start from scratch and configure the entire SS7 Stack and SMSC Gateway.
			The "simulator" profile is a pre-configured profile to work with jss7- and smpp- simulators.
			Refer to the Admin Guide for instructions on how to start the server in either of the profiles.</para></listitem>
			<listitem><para>resources: Contains SLEE MAP RA jars.</para></listitem>
			<listitem><para>tools: Contains SLEE tools and jss7-simulator.</para></listitem>
		</itemizedlist>
		</para>
	</section>

	<section id="notes_whats_new">
		<title>What's New?</title>

        <formalpara>
        <title>Switched to cassandra database driver 2.1</title>
        <para>&THIS.PLATFORM; &THIS.APPLICATION; &THIS.VERSION; switched to cassandra database driver 2.1. Cassandra databases 2.0 and 2.1 are supported now (2.1 is preferred).
Cassandra database 1.2 is not supported more. If you use this or newer release you need to switch to 2.* SMSC GW before update.
        </para>
        </formalpara>

        <formalpara>
        <title>mproc rules interface was changed</title>
        <para>The list of changes:
<itemizedlist>
<listitem><para>mproc rules interface was moved to a separate package (mproc-api)
</para></listitem>
<listitem><para>changing of MProcRule interface: onPostImsiRequest() is applied to a concrete Sms, to for SmsSet
</para></listitem>
<listitem><para>minor mproc rules MProcRule interface updates
		<programlisting
			language="Java"
			role="JAVA"><![CDATA[
    boolean matches(MProcMessage message);
    boolean matches(MProcMessageDestination messageDest);
    void onPostImsiRequest(PostImsiProcessor factory, MProcMessageDestination messages) throws Exception;
]]>
	</programlisting>
was changed to
		<programlisting
			language="Java"
			role="JAVA"><![CDATA[
    boolean matchesPostArrival(MProcMessage message);
    boolean matchesPostImsiRequest(MProcMessage message);
    boolean matchesPostDelivery(MProcMessage message);
    void onPostImsiRequest(PostImsiProcessor factory, MProcMessage message) throws Exception;
]]>
	</programlisting>

</para></listitem>
<listitem><para>adding of originatorSccpAddress parameter into MProcMessage interface
</para></listitem>
</itemizedlist>
        </para>
        </formalpara>

        <formalpara>
        <title>New parameters for default mproc rules</title>
        <para>&THIS.PLATFORM; &THIS.APPLICATION; &THIS.VERSION; introduced new parameters for default mproc rules: dropaftersri and origesmenamemask. 
        </para>
        </formalpara>

        <formalpara>
        <title>Cashing of SRI responses</title>
        <para>&THIS.PLATFORM; &THIS.APPLICATION; &THIS.VERSION; introduced a functionality for cashing of SRI responses.
        </para>
        </formalpara>

        <formalpara>
        <title>Diameter interface AVP list updateed</title>
        <para>In &THIS.PLATFORM; &THIS.APPLICATION; &THIS.VERSION; Diameter interface AVP list was updated. 
<itemizedlist>
<listitem><para>SMSC-Address 2017 is filled not only for MO messages (value is taken from SMSC GW config - ServiceCenterAddress field that depends on networkId of a message)
</para></listitem>
<listitem><para>Originator-Interface AVP - contains origination interface message definition (networkId and ESME name)
</para></listitem>
<listitem><para>Address-Type of (Originator-Received-Address and Recipient-Address) can have two values: 1 (msisdn) for TON=1 and 6 (others) for others TON
</para></listitem>
<listitem><para>AVP order is changed (to fit a specification)
</para></listitem>
</itemizedlist>
        </para>
        </formalpara>

        <formalpara>
        <title>Bypass SRI requests to a local HLR</title>
        <para>&THIS.PLATFORM; &THIS.APPLICATION; &THIS.VERSION; introduced a special Home routing mode when SMSC GW bypass SRI requests to a local HLR.
        </para>
        </formalpara>

        <formalpara>
        <title>ENQUIRE messages and dropping of TCP connectiom for SERVER type ESMEs</title>
        <para>&THIS.PLATFORM; &THIS.APPLICATION; &THIS.VERSION; supports now ENQUIRE messages and dropping of TCP connectiom for SERVER type ESMEs.
        </para>
        </formalpara>

	</section>
	<section id="features_bug_fixes">
		<title>Issues Fixed</title>
		<para>For a full list of resolved issues and their details, please refer to <ulink url="https://telestax.atlassian.net/browse/SMSC/"/> and <ulink url="https://github.com/RestComm/smscgateway/issues"/>.</para>	

<itemizedlist>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-236">SMSC-236</ulink>: support for cassandra database versions 2.0 and 2.1
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-263">SMSC-263</ulink>: mproc rules: onPostImsiRequest is needed to be applied to Sms, not ot SmsSet
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-264">SMSC-264</ulink>: Adding dropaftersri / origesmenamemask into default mproc rules
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-270">SMSC-270</ulink>: SRI response caching
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-271">SMSC-271</ulink>: GUI update for SMSC-264 and 270 (dropaftersri / origesmenamemask, SRI caching)
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-272">SMSC-272</ulink>: Manual update for SMSC-263, 264 and 270
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-274">SMSC-274</ulink>: Separate mproc-api library
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-275">SMSC-275</ulink>: Remove maxBackupIndex and maxFileSize for DailyRollingFileAppender
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-283">SMSC-283</ulink>: Extra AVP fields in diameter request (networkId issue)
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-284">SMSC-284</ulink>: Docs : networkid parameter missing in ESME creation
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-285">SMSC-285</ulink>: Adding originatorSccpAddress inro mproc rules
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-286">SMSC-286</ulink>: Differentiating of Address-Type for addressed for Diameter
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-289">SMSC-289</ulink>: validity_period fields for deliver_sm (smpp 3.3 / 3.4)
</para></listitem>
<listitem><para><ulink url="https://telestax.atlassian.net/browse/SMSC-291">SMSC-291</ulink>: Docs: update manuals after SMSC-285,286,283
</para></listitem>
<listitem><para><ulink url="https://github.com/RestComm/smscgateway/issues/22">SMSC-22</ulink>: ENQUIRE messages also for SERVER type ESMEs
</para></listitem>
<listitem><para><ulink url="https://github.com/RestComm/smscgateway/issues/29">SMSC-29</ulink>: Multitenancy for hrhlrnumber
</para></listitem>
<listitem><para><ulink url="https://github.com/RestComm/smscgateway/issues/42">SMSC-42</ulink>: BindTimeout option for ESME
</para></listitem>
<listitem><para><ulink url="https://github.com/RestComm/smscgateway/issues/45">SMSC-45</ulink>: Bypass of SRI request from SMSC GW to HLR for home routing procedure
</para></listitem>
<listitem><para><ulink url="https://github.com/RestComm/smscgateway/issues/47">SMSC-47</ulink>: Timeout for ESMEs after which SMSC GW will drop a TCP connection without message activity
</para></listitem>
<listitem><para><ulink url="https://github.com/RestComm/smscgateway/issues/54">SMSC-54</ulink>: Possible unbind() and close() Exception
</para></listitem>

</itemizedlist>
	</section>
	<section id="Config_settings">
		<title>Configuration Settings</title>
		<para>You must perform post-installation configuration of the Gateway according to instructions in the &THIS.PLATFORM; &THIS.APPLICATION; Admin Guide. Before using in Production, you must remember to fine-tune Memory, Database and logging settings for better performance.</para>
<warning><para>Failure to configure memory, database, logging and other settings as per the instructions in the Admin Guide may result in poor performance of the Gateway.</para></warning>
	</section>
	<section id="notes_doc">
		<title>Documentation</title>
		<para>
		When you download the binary release and extract the contents of the zip file, you will notice that the top level directory is named <literal>telscale-smsc-&lt;version&gt;</literal> and within the <literal>telscale-smsc-&lt;version&gt;/docs</literal> folder you will find the &THIS.PLATFORM; &THIS.APPLICATION; Installation Guide and Admin Guide. For installation and usage guidance, please refer to these guides that will help you to install and configure the Gateway.
		</para>
	</section>
	<section id="notes_support">
		<title>Support</title>
		<para>
			&THIS.PLATFORM; &THIS.APPLICATION; is fully supported by TeleStax. For help with the software or to raise bugs please login to your account at <ulink url="https://telestax.zendesk.com/home" /> and follow the instructions.
		</para>
	</section>


		
</chapter>
