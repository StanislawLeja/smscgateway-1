CREATE KEYSPACE "TelestaxSMSC" WITH REPLICATION = {'class' : 'SimpleStrategy', 'replication_factor': 1};
         
USE "TelestaxSMSC";         

CREATE KEYSPACE "TelscaleSMSC"
         WITH REPLICATION = {'class' : 'SimpleStrategy', 'replication_factor': 1};
         
USE "TelscaleSMSC";         

CREATE TABLE "CURRENT_SLOT_TABLE" (
	"ID" int,
	"NEXT_SLOT" bigint,
	PRIMARY KEY ("ID")
);

CREATE TABLE "DST_SLOT_TABLE_YYYY_MM_DD" (
	"TARGET_ID" ascii,
	"DUE_SLOT" bigint,
	PRIMARY KEY ("TARGET_ID")
);

CREATE TABLE "SLOT_MESSAGES_TABLE_YYYY_MM_DD" (
	"ID" uuid, 
	"TARGET_ID" ascii,
	"NETWORK_ID" int,
	"DUE_SLOT" bigint,
	"IN_SYSTEM" int,
	"SMSC_UUID" uuid,

	"ADDR_DST_DIGITS" ascii,
	"ADDR_DST_TON" int, 
	"ADDR_DST_NPI" int, 

	"ADDR_SRC_DIGITS" ascii, 
	"ADDR_SRC_TON" int, 
	"ADDR_SRC_NPI" int, 

	"DUE_DELAY" int,
	"SM_STATUS" int,
	"ALERTING_SUPPORTED" boolean,

	"MESSAGE_ID" bigint,
	"MO_MESSAGE_REF" int,
	"ORIG_ESME_NAME" text,
	"ORIG_SYSTEM_ID" text, 
	"DEST_CLUSTER_NAME" text, 
	"DEST_ESME_NAME" text,
	"DEST_SYSTEM_ID" text,
	"SUBMIT_DATE" timestamp, 
	"DELIVERY_DATE" timestamp, 

	"SERVICE_TYPE" text,  
	"ESM_CLASS" int , 
	"PROTOCOL_ID" int , 
	"PRIORITY" int, 
	"REGISTERED_DELIVERY" int, 
	"REPLACE" int, 
	"DATA_CODING" int, 
	"DEFAULT_MSG_ID" int, 

	"MESSAGE" blob,
	"MESSAGE_TEXT" text,
	"MESSAGE_BIN" blob,

	"OPTIONAL_PARAMETERS" text, 
	"SCHEDULE_DELIVERY_TIME" timestamp,
	"VALIDITY_PERIOD" timestamp,

	"IMSI" ascii,
	"CORR_ID" ascii,
	"NNN_DIGITS" ascii,
	"NNN_AN" int,
	"NNN_NP" int,
	"SM_STATUS" int,
	"SM_TYPE" int, 
	"DELIVERY_COUNT" int, 

	PRIMARY KEY (("DUE_SLOT"), "TARGET_ID", "ID") 
);


CREATE TABLE "MESSAGES_YYYY_MM_DD" (
	"ID" uuid, 
	"TARGET_ID" ascii,
	"NETWORK_ID" int,
	"DUE_SLOT" bigint,
	"IN_SYSTEM" int,
	"SMSC_UUID" uuid,

	"ADDR_DST_DIGITS" ascii,
	"ADDR_DST_TON" int, 
	"ADDR_DST_NPI" int, 

	"ADDR_SRC_DIGITS" ascii, 
	"ADDR_SRC_TON" int, 
	"ADDR_SRC_NPI" int, 

	"DUE_DELAY" int,
	"SM_STATUS" int,
	"ALERTING_SUPPORTED" boolean,

	"MESSAGE_ID" bigint,
	"MO_MESSAGE_REF" int,
	"ORIG_ESME_NAME" text,
	"ORIG_SYSTEM_ID" text, 
	"DEST_CLUSTER_NAME" text, 
	"DEST_ESME_NAME" text,
	"DEST_SYSTEM_ID" text,
	"SUBMIT_DATE" timestamp, 
	"DELIVERY_DATE" timestamp, 

	"SERVICE_TYPE" text,  
	"ESM_CLASS" int , 
	"PROTOCOL_ID" int , 
	"PRIORITY" int, 
	"REGISTERED_DELIVERY" int, 
	"REPLACE" int, 
	"DATA_CODING" int, 
	"DEFAULT_MSG_ID" int, 

	"MESSAGE" blob,
	"MESSAGE_TEXT" text,
	"MESSAGE_BIN" blob,

	"OPTIONAL_PARAMETERS" text, 
	"SCHEDULE_DELIVERY_TIME" timestamp,
	"VALIDITY_PERIOD" timestamp,

	"IMSI" ascii,
	"CORR_ID" ascii,
	"NNN_DIGITS" ascii,
	"NNN_AN" int,
	"NNN_NP" int,
	"SM_STATUS" int,
	"SM_TYPE" int, 
	"DELIVERY_COUNT" int, 

	PRIMARY KEY (("ADDR_DST_DIGITS"), ID);
);


CREATE TABLE "SMPP_SMS_ROUTING_RULE" (
    "ADDRESS" text PRIMARY KEY,
    "CLUSTER_NAME" text, 
);

CREATE TABLE "SIP_SMS_ROUTING_RULE" (
    "ADDRESS" text PRIMARY KEY,
    "CLUSTER_NAME" text, 
);

